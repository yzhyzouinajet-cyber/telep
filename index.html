<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Messagerie iPhone — Simulation</title>
<style>
  body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial;
    background: #e9eef6;
  }
  .wrap { max-width:430px; margin:20px auto; padding:12px; }

  .stage { position:relative; width:100%; padding-top:200%; }
  .frame {
    position:absolute; left:0; right:0; top:0; bottom:0;
    background: url('frame.png') no-repeat center top;
    background-size: contain;
    display:flex; align-items:flex-start; justify-content:center;
    padding-top:7%; box-sizing:border-box;
  }
  .screen {
    width:86%; height:78%; border-radius:18px;
    background: white; display:flex; flex-direction:column;
    overflow:hidden; box-shadow:0 8px 20px rgba(0,0,0,0.15);
  }

  .topbar { padding:12px; display:flex; justify-content:center; font-weight:600; }
  .content { flex:1; display:flex; flex-direction:column; justify-content:center; align-items:center; gap:20px; padding:20px; }

  .btn {
    background:#007aff; color:white; border:0; border-radius:12px;
    padding:12px 20px; font-size:16px; font-weight:600; cursor:pointer;
  }

  /* écran messagerie */
  .voicemail {
    position:absolute; inset:0; background:white;
    display:none; flex-direction:column; justify-content:center; align-items:center; gap:16px;
    text-align:center; padding:20px;
  }
  .voicemail h2 { margin:0; font-size:18px; }
  input[type="password"] {
    padding:10px; font-size:16px; border-radius:8px; border:1px solid #ccc; width:160px; text-align:center;
  }
  .error { color:#c92a2a; font-size:14px; display:none; }
</style>
</head>
<body>
<div class="wrap">
  <div class="stage">
    <div class="frame">
      <div class="screen">
        <div class="topbar">07 55 22 13 14</div>
        <div class="content">
          <button class="btn" id="callBtn">Appeler</button>
        </div>
        <div class="voicemail" id="voicemail">
          <h2>Messagerie vocale</h2>
          <p>Veuillez entrer votre code secret</p>
          <input type="password" id="codeInput" maxlength="6" placeholder="Code" />
          <button class="btn" id="submitBtn">Valider</button>
          <div class="error" id="errorMsg">Code incorrect</div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
(function(){
  const CORRECT_CODE = "1798";
  const REDIRECT = "https://sites.google.com/d/1zvWlBSykvZvoG18Gjn02ghG2BxkD2vyK/p/1-FRJK-HhCT25s0XLjAbXvYtJ7KznYyb_/edit";

  const callBtn = document.getElementById("callBtn");
  const voicemail = document.getElementById("voicemail");
  const codeInput = document.getElementById("codeInput");
  const submitBtn = document.getElementById("submitBtn");
  const errorMsg = document.getElementById("errorMsg");

  // Quand on "appelle" → bascule sur messagerie
  callBtn.addEventListener("click", () => {
    voicemail.style.display = "flex";
  });

  // Validation du code
  submitBtn.addEventListener("click", () => {
    if(codeInput.value.trim() === CORRECT_CODE){
      errorMsg.style.display = "none";
      window.location.href = REDIRECT;
    } else {
      errorMsg.style.display = "block";
    }
  });

  // Enter = valider
  codeInput.addEventListener("keydown", e => {
    if(e.key === "Enter") submitBtn.click();
  });
})();
</script>
</body>
</html>
